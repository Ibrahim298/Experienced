<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Module 10 - Choose To Code</title>
<style>
body{font-family:helvetica, arial, freesans, clean, sans-serif;color:#333;line-height:1.6;font-size:14px}.markdown-body{line-height:1.6;font-size:14px}.markdown-body > *:first-child{margin-top:0 !important}.markdown-body > *:last-child{margin-bottom:0 !important}.markdown-body a.absent{color:#c00}.markdown-body h1{font-weight:700;-webkit-font-smoothing:antialiased;color:#000;font-size:28px;margin:20px 0 10px;padding:0}.markdown-body h2{font-weight:700;-webkit-font-smoothing:antialiased;color:#000;font-size:24px;border-bottom-color:#ccc;border-bottom-width:1px;border-bottom-style:solid;margin:20px 0 10px;padding:0}.markdown-body h3{font-weight:700;-webkit-font-smoothing:antialiased;font-size:18px;margin:20px 0 10px;padding:0}.markdown-body h4{font-weight:700;-webkit-font-smoothing:antialiased;font-size:16px;margin:20px 0 10px;padding:0}.markdown-body h5{font-weight:700;-webkit-font-smoothing:antialiased;font-size:14px;margin:20px 0 10px;padding:0}.markdown-body h6{font-weight:700;-webkit-font-smoothing:antialiased;color:#777;font-size:14px;margin:20px 0 10px;padding:0}.markdown-body blockquote{color:#777;border-left-color:#ddd;border-left-width:4px;border-left-style:solid;margin:15px 0;padding:0 15px}.markdown-body dl{margin:15px 0;padding:0}.markdown-body table{border-collapse:collapse;margin:15px 0;padding:0}.markdown-body pre{border-radius:3px;border:1px solid #ccc;line-height:19px;overflow:auto;font-size:13px;background-color:#f8f8f8;margin:15px 0;padding:6px 10px}.markdown-body li p.first{display:inline-block}.markdown-body dl dt{font-size:14px;font-style:italic;font-weight:700;margin:15px 0 5px;padding:0}.markdown-body dl dt:first-child{padding:0}.markdown-body dl dd{margin:0 0 15px;padding:0 15px}.markdown-body table tr{border-top-color:#ccc;border-top-width:1px;border-top-style:solid;background-color:#fff;margin:0;padding:0}.markdown-body table tr:nth-child(2n){background-color:#f8f8f8}.markdown-body img{max-width:100%}.markdown-body span.frame{overflow:hidden;display:block}.markdown-body span.frame > span{border:1px solid #ddd;width:auto;overflow:hidden;float:left;display:block;margin:13px 0 0;padding:7px}.markdown-body span.frame span img{float:left;display:block}.markdown-body span.frame span span{color:#333;clear:both;display:block;padding:5px 0 0}.markdown-body span.align-center > span{text-align:center;overflow:hidden;display:block;margin:13px auto 0}.markdown-body span.align-center span img{text-align:center;margin:0 auto}.markdown-body span.align-right > span{text-align:right;overflow:hidden;display:block;margin:13px 0 0}.markdown-body span.align-right span img{text-align:right;margin:0}.markdown-body span.float-left{overflow:hidden;margin-right:13px;float:left;display:block}.markdown-body span.float-left span{margin:13px 0 0}.markdown-body span.float-right{overflow:hidden;margin-left:13px;float:right;display:block}.markdown-body span.float-right > span{text-align:right;overflow:hidden;display:block;margin:13px auto 0}.markdown-body pre > code{border:currentColor;white-space:pre;margin:0;padding:0}.markdown-body .highlight pre{border-radius:3px;border:1px solid #ccc;line-height:19px;overflow:auto;font-size:13px;background-color:#f8f8f8;padding:6px 10px}.markdown-body p,.markdown-body li{margin:15px 0}.markdown-body ul,.markdown-body ol{padding-left:30px;margin:15px 0}.markdown-body > h2:first-child,.markdown-body > h1:first-child,.markdown-body > h1:first-child + h2{border:0 currentColor;padding-top:0;margin-top:0}.markdown-body > h3:first-child,.markdown-body > h4:first-child,.markdown-body > h5:first-child,.markdown-body > h6:first-child{padding-top:0;margin-top:0}.markdown-body h1 + p,.markdown-body h2 + p,.markdown-body h3 + p,.markdown-body h4 + p,.markdown-body h5 + p,.markdown-body h6 + p,.markdown-body ul li > :first-child,.markdown-body ol li > :first-child,.markdown-body dl dt > :first-child,.markdown-body dl dd > :first-child,.markdown-body blockquote > :first-child,.markdown-body table tr th > :first-child,.markdown-body table tr td > :first-child{margin-top:0}.markdown-body ul li > :last-child,.markdown-body ol li > :last-child,.markdown-body dl dt > :last-child,.markdown-body dl dd > :last-child,.markdown-body blockquote > :last-child,.markdown-body table tr th > :last-child,.markdown-body table tr td > :last-child{margin-bottom:0}.markdown-body table tr th,.markdown-body table tr td{border:1px solid #ccc;text-align:left;margin:0;padding:6px 13px}.markdown-body span.align-center,.markdown-body span.align-right{overflow:hidden;clear:both;display:block}.markdown-body code,.markdown-body tt{border-radius:3px;border:1px solid #eaeaea;white-space:nowrap;background-color:#f8f8f8;margin:0 2px;padding:0 5px}.markdown-body pre code,.markdown-body pre tt{border:currentColor;background-color:transparent}span.codelanguage{display:none}
</style>
</head>
<body>
<div class="markdown-body">
<h2 id="Diving_deeper_into_AngularJS">Diving deeper into AngularJS</h2>

<h3 id="Objectives">Objectives:</h3>

<ul>
<li>Two Way Binding</li>
<li>Dynamic content with Services</li>
</ul>

<h3 id="Binding">Binding</h3>

<p>In this module, we want to go deeper on the binding that is in AngularJS. When you create a model, you can create properties that get or set a value on that model. Additionally, you can create functions that return the results of a model. Let's take a look at how that works.</p>

<p>First, let modify our <strong>index.html</strong> file and the &quot;checknumber&quot; HTML and add some additional markup we're going to need. Notice that we surrounded this content in another bootstrap &quot;row&quot;. Since this gives us twelve columns, we'll break the content into four columns and eight columns. Next, add some labels and input boxes and a span to collect some name information.</p>

<!-- mark: 1,2,6-11 -->

<span class="codelanguage">HTML</span><pre><code class="HTML"><strong class="markLine"><span style="color:#0000FF">&lt;</span><span style="color:#800000">div</span> <span style="color:#FF0000">class</span>=<span style="color:#0000FF">&quot;row&quot;</span><span style="color:#0000FF">&gt;</span></strong>
<strong class="markLine">    <span style="color:#0000FF">&lt;</span><span style="color:#800000">div</span> <span style="color:#FF0000">class</span>=<span style="color:#0000FF">&quot;col-sm-4&quot;</span><span style="color:#0000FF">&gt;</span></strong>
        <span style="color:#0000FF">&lt;</span><span style="color:#800000">input</span> <span style="color:#FF0000">ng</span>-<span style="color:#FF0000">model</span>=<span style="color:#0000FF">&quot;smallnumber&quot;</span> <span style="color:#FF0000">type</span>=<span style="color:#0000FF">&quot;text&quot;</span><span style="color:#0000FF">&gt;</span>
        <span style="color:#0000FF">&lt;</span><span style="color:#800000">p</span><span style="color:#0000FF">&gt;</span>{{ theMessage }}<span style="color:#0000FF">&lt;/</span><span style="color:#800000">p</span><span style="color:#0000FF">&gt;</span>
        <span style="color:#0000FF">&lt;</span><span style="color:#800000">button</span> <span style="color:#FF0000">ng</span>-<span style="color:#FF0000">click</span>=<span style="color:#0000FF">&quot;checkNumber()&quot;</span><span style="color:#0000FF">&gt;</span>Submit<span style="color:#0000FF">&lt;/</span><span style="color:#800000">button</span><span style="color:#0000FF">&gt;</span>
<strong class="markLine">    <span style="color:#0000FF">&lt;/</span><span style="color:#800000">div</span><span style="color:#0000FF">&gt;</span></strong>
<strong class="markLine">    <span style="color:#0000FF">&lt;</span><span style="color:#800000">div</span> <span style="color:#FF0000">class</span>=<span style="color:#0000FF">&quot;col-sm-8&quot;</span><span style="color:#0000FF">&gt;</span></strong>
<strong class="markLine">        <span style="color:#0000FF">&lt;</span><span style="color:#800000">label</span><span style="color:#0000FF">&gt;</span>FirstName<span style="color:#0000FF">&lt;/</span><span style="color:#800000">label</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;</span><span style="color:#800000">input</span> <span style="color:#FF0000">type</span>=<span style="color:#0000FF">&quot;text&quot;</span><span style="color:#0000FF">/&gt;</span><span style="color:#0000FF">&lt;/</span><span style="color:#800000">br</span><span style="color:#0000FF">&gt;</span></strong>
<strong class="markLine">        <span style="color:#0000FF">&lt;</span><span style="color:#800000">label</span><span style="color:#0000FF">&gt;</span>LastName<span style="color:#0000FF">&lt;/</span><span style="color:#800000">label</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;</span><span style="color:#800000">input</span> <span style="color:#FF0000">type</span>=<span style="color:#0000FF">&quot;text&quot;</span><span style="color:#0000FF">/&gt;</span><span style="color:#0000FF">&lt;/</span><span style="color:#800000">br</span><span style="color:#0000FF">&gt;</span></strong>
<strong class="markLine">        <span style="color:#0000FF">&lt;</span><span style="color:#800000">label</span><span style="color:#0000FF">&gt;</span>FullName<span style="color:#0000FF">&lt;/</span><span style="color:#800000">label</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;</span><span style="color:#800000">span</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;/</span><span style="color:#800000">span</span><span style="color:#0000FF">&gt;</span></strong>
<strong class="markLine">    <span style="color:#0000FF">&lt;/</span><span style="color:#800000">div</span><span style="color:#0000FF">&gt;</span></strong>
<span style="color:#0000FF">&lt;/</span><span style="color:#800000">div</span><span style="color:#0000FF">&gt;</span>
</code></pre>

<p>Save and load <strong>index.html</strong> in your browser. You should see the new fields on the page. They don't line up like we would want at this point, so let's add a style in the <strong>app.css</strong> file to clean up the layout.</p>

<span class="codelanguage">CSS</span><pre><code class="CSS"><span style="color:#800000">label</span> {
    <span style="color:#FF0000">padding</span>: <span style="color:#0000FF">0 10px</span>;
    <span style="color:#FF0000">width</span>: <span style="color:#0000FF">100px</span>;
}
</code></pre>

<h3 id="Adding_a_User_Object_to_our_Scope">Adding a User Object to our Scope</h3>

<p>Next, we want to modify the AngularJS controller that we created in the last module to include a new property. Previously, the $scope properties were single value fields or a function like Date().</p>

<p>This time, let's modify the <strong>app.js</strong> file and the property is going to be a complex object that we will call &quot;User&quot;. The User object is going to have it's own properties for &quot;firstName&quot;, &quot;lastName&quot;, and &quot;fullName&quot;. Notice that each of these are functions that modify local variable values for &quot;_first&quot; and &quot;_last&quot;.</p>

<!-- mark: 8 - 14 -->

<span class="codelanguage">Javascript</span><pre><code class="Javascript">app.controller(&#39;MainController&#39;, [&#39;$scope&#39;, <span style="color:#0000FF">function</span> ($scope) {
    $scope.timestamp = <span style="color:#0000FF">Date</span>();
    $scope.smallnumber = 0;
    $scope.theMessage = <span style="color:#8B0000">&quot;&quot;</span>;

    ...

<strong class="markLine">    <span style="color:#0000FF">var</span> _first = <span style="color:#8B0000">&quot;Your&quot;</span>;</strong>
<strong class="markLine">    <span style="color:#0000FF">var</span> _last = <span style="color:#8B0000">&quot;Name&quot;</span>;</strong>
<strong class="markLine">    $scope.User = {</strong>
<strong class="markLine">        firstName: <span style="color:#0000FF">function</span> (first) { <span style="color:#0000FF">return</span> <span style="color:#0000FF">arguments</span>.<span style="color:#0000FF">length</span> ? (_first = first) : _first },</strong>
<strong class="markLine">        lastName: <span style="color:#0000FF">function</span> (last) { <span style="color:#0000FF">return</span> <span style="color:#0000FF">arguments</span>.<span style="color:#0000FF">length</span> ? (_last = last) : _last },</strong>
<strong class="markLine">        fullName: <span style="color:#0000FF">function</span> () { <span style="color:#0000FF">return</span> _first + &#39; &#39; + _last; }</strong>
<strong class="markLine">    }</strong>
}]);
</code></pre>

<p>Two things that need to be pointed out here. First, notice the use of the &quot;_&quot; for the variables for &quot;_first&quot; and &quot;_last&quot;. Programmers will often use this convention to help someone reading the code recognize that these are values that are &quot;private&quot; to the function. You can't access these two variables by themselves, you have to use the $scope.User object to manipulate these values.</p>

<p>Second, notice the function for the firstName or the lastName. We are using a special operator with the <code>?</code>. This is similar to an <code>if...then...else</code> statement. It works like this <code>if ? then : else</code>. Any non-zero value is considered true. So in the case of &quot;firstName&quot; the function is saying if the arguments.length (something was passed in to the function) is not zero the assign the value of &quot;_first&quot; to the argument value of &quot;first&quot; otherwise return the value of the &quot;_first&quot; variable.</p>

<p>In the case of the &quot;fullName&quot; function, no modifications to the private variables are made. The values are simply concatenated together and returned as the value of &quot;fullName&quot;.</p>

<h3 id="Wire_Up_the_Model_in_HTML">Wire Up the Model in HTML</h3>

<p>Let's turn back now to the HTML and connect up the model that we just added to our controller. We're going to use the &quot;ng-model&quot; attribute to connect each input, but notice that it is we use &quot;User.firstName&quot;. That dot in the is telling the code to use the firstName value of the User object. We will also add the &quot;ng-model-options&quot; and set to <code>&quot;{ getterSetter: true }&quot;</code> which tells AngularJS that we are using functions for getting the value and setting the value. This is because we could use javascript somewhere else on the page to update the User object.</p>

<span class="codelanguage">HTML</span><pre><code class="HTML"><span style="color:#0000FF">&lt;</span><span style="color:#800000">div</span> <span style="color:#FF0000">class</span>=<span style="color:#0000FF">&quot;row&quot;</span><span style="color:#0000FF">&gt;</span>
    <span style="color:#0000FF">&lt;</span><span style="color:#800000">div</span> <span style="color:#FF0000">class</span>=<span style="color:#0000FF">&quot;col-sm-4&quot;</span><span style="color:#0000FF">&gt;</span>
        <span style="color:#0000FF">&lt;</span><span style="color:#800000">input</span> <span style="color:#FF0000">ng</span>-<span style="color:#FF0000">model</span>=<span style="color:#0000FF">&quot;smallnumber&quot;</span> <span style="color:#FF0000">type</span>=<span style="color:#0000FF">&quot;text&quot;</span><span style="color:#0000FF">&gt;</span>
        <span style="color:#0000FF">&lt;</span><span style="color:#800000">p</span><span style="color:#0000FF">&gt;</span>{{ theMessage }}<span style="color:#0000FF">&lt;/</span><span style="color:#800000">p</span><span style="color:#0000FF">&gt;</span>
        <span style="color:#0000FF">&lt;</span><span style="color:#800000">button</span> <span style="color:#FF0000">ng</span>-<span style="color:#FF0000">click</span>=<span style="color:#0000FF">&quot;checkNumber()&quot;</span><span style="color:#0000FF">&gt;</span>Submit<span style="color:#0000FF">&lt;/</span><span style="color:#800000">button</span><span style="color:#0000FF">&gt;</span>
    <span style="color:#0000FF">&lt;/</span><span style="color:#800000">div</span><span style="color:#0000FF">&gt;</span>
    <span style="color:#0000FF">&lt;</span><span style="color:#800000">div</span> <span style="color:#FF0000">class</span>=<span style="color:#0000FF">&quot;col-sm-8&quot;</span><span style="color:#0000FF">&gt;</span>
        <span style="color:#0000FF">&lt;</span><span style="color:#800000">label</span><span style="color:#0000FF">&gt;</span>FirstName<span style="color:#0000FF">&lt;/</span><span style="color:#800000">label</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;</span><span style="color:#800000">input</span> <span style="color:#FF0000">ng</span>-<span style="color:#FF0000">model</span>=<span style="color:#0000FF">&quot;User.firstName&quot;</span> <span style="color:#FF0000">type</span>=<span style="color:#0000FF">&quot;text&quot;</span> <span style="color:#FF0000">ng</span>-<span style="color:#FF0000">model</span>-<span style="color:#FF0000">options</span>=<span style="color:#0000FF">&quot;{ getterSetter: true }&quot;</span> <span style="color:#0000FF">/&gt;</span><span style="color:#0000FF">&lt;/</span><span style="color:#800000">br</span><span style="color:#0000FF">&gt;</span>
        <span style="color:#0000FF">&lt;</span><span style="color:#800000">label</span><span style="color:#0000FF">&gt;</span>LastName<span style="color:#0000FF">&lt;/</span><span style="color:#800000">label</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;</span><span style="color:#800000">input</span> <span style="color:#FF0000">ng</span>-<span style="color:#FF0000">model</span>=<span style="color:#0000FF">&quot;User.lastName&quot;</span> <span style="color:#FF0000">type</span>=<span style="color:#0000FF">&quot;text&quot;</span> <span style="color:#FF0000">ng</span>-<span style="color:#FF0000">model</span>-<span style="color:#FF0000">options</span>=<span style="color:#0000FF">&quot;{ getterSetter: true }&quot;</span>  <span style="color:#0000FF">/&gt;</span><span style="color:#0000FF">&lt;/</span><span style="color:#800000">br</span><span style="color:#0000FF">&gt;</span>
        <span style="color:#0000FF">&lt;</span><span style="color:#800000">label</span><span style="color:#0000FF">&gt;</span>FullName<span style="color:#0000FF">&lt;/</span><span style="color:#800000">label</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;</span><span style="color:#800000">span</span> <span style="color:#FF0000">ng</span>-<span style="color:#FF0000">bind</span>=<span style="color:#0000FF">&quot;User.fullName()&quot;</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;/</span><span style="color:#800000">span</span><span style="color:#0000FF">&gt;</span>
    <span style="color:#0000FF">&lt;/</span><span style="color:#800000">div</span><span style="color:#0000FF">&gt;</span>
<span style="color:#0000FF">&lt;/</span><span style="color:#800000">div</span><span style="color:#0000FF">&gt;</span>

</code></pre>

<p>Save and load the <strong>index.html</strong> page in your browser. Notice that as you enter values in the FirstName and LastName textbox, the span below for FullName is automatically updated.</p>

<p>This is just a simple of example of the binding that you can do, but imagine if you had a shopping cart where you could calculate the new price or the total as soon as the values were entered into the text box. Again, we are relying on the AngularJS framework to do the user interface manipulations for us so we don't have to write all the code to handle all of the updates.</p>

<h3 id="Dynamic_Page_Content">Dynamic Page Content</h3>

<p>Finally, let's turn our attention to dynamic page content. Most websites that are popular have content that is refreshed on a regular basis. The content that we have created so far is static to your page. If you wanted to update the content, you would have to edit and republish the page.</p>

<p>In this next section, we are going to look at how to make the content on the web page dynamic and pull from a service. You will see that the main content of your page is merely a template, and all of the content will be dynamic from a server.</p>

<p>We are going to break this down into steps so that you can see what is happening as we move forward.</p>

<p>First, we need to do is add an additional module to our main <strong>angularApp</strong> module. The module we are going to add is <strong>ngSanitize</strong>. This provides functionality to use HTML that is sent from another website and manipulate it without messing up the markup that is sent from that server. </p>

<p>First, in our <strong>index.html</strong> page, add a reference in the &lt;head&gt; of the page.</p>

<!-- mark: 4 -->

<span class="codelanguage">HTML</span><pre><code class="HTML"><span style="color:#0000FF">&lt;</span><span style="color:#800000">head</span><span style="color:#0000FF">&gt;</span>
    <span style="color:#0000FF">&lt;</span><span style="color:#800000">title</span><span style="color:#0000FF">&gt;</span>My First Web Page<span style="color:#0000FF">&lt;/</span><span style="color:#800000">title</span><span style="color:#0000FF">&gt;</span>
    <span style="color:#0000FF">&lt;</span><span style="color:#800000">link</span> <span style="color:#FF0000">href</span>=<span style="color:#0000FF">&quot;app.css&quot;</span> <span style="color:#FF0000">rel</span>=<span style="color:#0000FF">&quot;stylesheet&quot;</span><span style="color:#0000FF">/&gt;</span>
<strong class="markLine">    <span style="color:#0000FF">&lt;</span><span style="color:#800000">script</span> <span style="color:#FF0000">src</span>=<span style="color:#0000FF">&quot;&lt;http://code.angularjs.org/1.0.3/angular-sanitize.js&gt;&quot;</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;/</span><span style="color:#800000">script</span><span style="color:#0000FF">&gt;</span></strong>
    ...
<span style="color:#0000FF">&lt;/</span><span style="color:#800000">head</span><span style="color:#0000FF">&gt;</span>

</code></pre>

<p>Next, open the <strong>app.js</strong> file to update our app definition. We need to tell our <strong>angularApp</strong> to load the <strong>ngSanitize</strong> module. We do this by adding &quot;ngSanitize&quot; between the existing brackets in our module decleration</p>

<span class="codelanguage">Javascript</span><pre><code class="Javascript"><span style="color:#0000FF">var</span> app = angular.module(<span style="color:#8B0000">&quot;angularApp&quot;</span>, [&#39;ngSanitize&#39;]);
</code></pre>

<h3 id="Move_Existing_Content_into_Controller">Move Existing Content into Controller</h3>

<p>Next, let's move the main content to the scope of your controller. Open the <strong>MainController.js</strong> file and paste in this block of code.</p>

<span class="codelanguage">Javascript</span><pre><code class="Javascript">  $scope.Articles = [
    {<span style="color:#8B0000">&quot;Title&quot;</span>:<span style="color:#8B0000">&quot;Amazing Museums&quot;</span>,<span style="color:#8B0000">&quot;Body&quot;</span>:<span style="color:#8B0000">&quot;&lt;p&gt;While most museums are a collection of old artifacts and stuff that no one is really interested in seeing, our musuems are the best of the best.&lt;/p&gt;&lt;p&gt;You won&#39;t find anything like these any where else in the world. Our museums rival that of our closest competitors including the Museum of Bad Art, the Paris Sewers Musuem and the Museum of Broken Relationships.&lt;/p&gt;&lt;p&gt;Come check them out...the fun is waiting for you.&lt;/p&gt;&quot;</span>,<span style="color:#8B0000">&quot;Image&quot;</span>:<span style="color:#8B0000">&quot;http://lorempixel.com/200/100/city/1&quot;</span>},
    {<span style="color:#8B0000">&quot;Title&quot;</span>:<span style="color:#8B0000">&quot;SplashAnyone Waterpark&quot;</span>,<span style="color:#8B0000">&quot;Body&quot;</span>:<span style="color:#8B0000">&quot;&lt;p&gt;While most museums are a collection of old artifacts and stuff that no one is really interested in seeing, our musuems are the best of the best.&lt;/p&gt;&lt;p&gt;You won&#39;t find anything like these any where else in the world. Our museums rival that of our closest competitors including the Museum of Bad Art, the Paris Sewers Musuem and the Museum of Broken Relationships.&lt;/p&gt;&lt;p&gt;Come check them out...the fun is waiting for you.&lt;/ p &gt; &quot;</span>,<span style="color:#8B0000">&quot;Image&quot;</span>:<span style="color:#8B0000">&quot;http://lorempixel.com/200/100/city/2&quot;</span>},
    {<span style="color:#8B0000">&quot;Title&quot;</span>:<span style="color:#8B0000">&quot;Best Zoo in Town&quot;</span>,<span style="color:#8B0000">&quot;Body&quot;</span>:<span style="color:#8B0000">&quot;&lt;p&gt;Our waterpark is the biggest and best park in the Western World. Just south of interstate 2015, you&#39;ll find a sweet mix of Super Slides and lazy rivers.&lt;/p&gt;&lt;p&gt;If that wasn&#39;t enough, we have 376 of the best food trucks in the state serving everything from fried gummy bears to lemonade and pizza. Don&#39;t forget if you buy our collectors edition souvenir water park keepsake, you get free refills all year.&lt;/p&gt;&lt;p&gt;And we wouldn&#39;t be SplashAnyone without the rules about splashing ... wait there are no rules.&lt;/p&gt;&quot;</span>,<span style="color:#8B0000">&quot;Image&quot;</span>:<span style="color:#8B0000">&quot;http://lorempixel.com/200/100/city/3&quot;</span>}
    ];

</code></pre>

<p>Your file should look something like this (some of the code is removed for brevity):</p>

<span class="codelanguage">Javascript</span><pre><code class="Javascript">app.controller(&#39;MainController&#39;, [&#39;$scope&#39;, <span style="color:#0000FF">function</span> ($scope) {
    $scope.timestamp = <span style="color:#0000FF">Date</span>();
    $scope.smallnumber = 0;
    $scope.theMessage = <span style="color:#8B0000">&quot;&quot;</span>;

    $scope.checkNumber = <span style="color:#0000FF">function</span> () {
        ...
    };

  $scope.Articles = [
    {<span style="color:#8B0000">&quot;Title&quot;</span>:<span style="color:#8B0000">&quot;Amazing Museums&quot;</span>,<span style="color:#8B0000">&quot;Body&quot;</span>:<span style="color:#8B0000">&quot;&lt;p&gt;While most ...&lt;/p&gt;&quot;</span>,<span style="color:#8B0000">&quot;Image&quot;</span>:<span style="color:#8B0000">&quot;http://lorempixel.com/200/100/city/1&quot;</span>},
    {<span style="color:#8B0000">&quot;Title&quot;</span>:<span style="color:#8B0000">&quot;SplashAnyone Waterpark&quot;</span>,<span style="color:#8B0000">&quot;Body&quot;</span>:<span style="color:#8B0000">&quot;&lt;p&gt;While most...&lt;/ p &gt; &quot;</span>,<span style="color:#8B0000">&quot;Image&quot;</span>:<span style="color:#8B0000">&quot;http://lorempixel.com/200/100/city/2&quot;</span>},
    {<span style="color:#8B0000">&quot;Title&quot;</span>:<span style="color:#8B0000">&quot;Best Zoo in Town&quot;</span>,<span style="color:#8B0000">&quot;Body&quot;</span>:<span style="color:#8B0000">&quot;&lt;p&gt;Our waterpark...&lt;/p&gt;&quot;</span>,<span style="color:#8B0000">&quot;Image&quot;</span>:<span style="color:#8B0000">&quot;http://lorempixel.com/200/100/city/3&quot;</span>}
    ];

    <span style="color:#0000FF">var</span> _first = <span style="color:#8B0000">&quot;Your&quot;</span>;
    <span style="color:#0000FF">var</span> _last = <span style="color:#8B0000">&quot;Name&quot;</span>;
    $scope.User = {
        ...
    }
}]);
</code></pre>

<p>Now, lets remove all three of the &lt;article&gt; objects from your webpage. Replace them with the following content:</p>

<!-- mark: 2-10 -->

<span class="codelanguage">HTML</span><pre><code class="HTML"><span style="color:#0000FF">&lt;</span><span style="color:#800000">div</span> <span style="color:#FF0000">class</span>=<span style="color:#0000FF">&quot;row&quot;</span><span style="color:#0000FF">&gt;</span>
<strong class="markLine">    <span style="color:#0000FF">&lt;</span><span style="color:#800000">article</span> <span style="color:#FF0000">ng</span>-<span style="color:#FF0000">repeat</span>=<span style="color:#0000FF">&quot;article in Articles&quot;</span><span style="color:#0000FF">&gt;</span></strong>
<strong class="markLine">        <span style="color:#0000FF">&lt;</span><span style="color:#800000">h2</span><span style="color:#0000FF">&gt;</span>{{ article.Title }}<span style="color:#0000FF">&lt;/</span><span style="color:#800000">h2</span><span style="color:#0000FF">&gt;</span></strong>
<strong class="markLine">        <span style="color:#0000FF">&lt;</span><span style="color:#800000">div</span> <span style="color:#FF0000">class</span>=<span style="color:#0000FF">&quot;col-sm-3&quot;</span><span style="color:#0000FF">&gt;</span></strong>
<strong class="markLine">            <span style="color:#0000FF">&lt;</span><span style="color:#800000">img</span> <span style="color:#FF0000">ng</span>-<span style="color:#FF0000">src</span>=<span style="color:#0000FF">&quot;{{ article.Image }}&quot;</span> <span style="color:#0000FF">/&gt;</span></strong>
<strong class="markLine">        <span style="color:#0000FF">&lt;/</span><span style="color:#800000">div</span><span style="color:#0000FF">&gt;</span></strong>
<strong class="markLine">        <span style="color:#0000FF">&lt;</span><span style="color:#800000">div</span> <span style="color:#FF0000">class</span>=<span style="color:#0000FF">&quot;col-sm-9&quot;</span><span style="color:#0000FF">&gt;</span></strong>
<strong class="markLine">            <span style="color:#0000FF">&lt;</span><span style="color:#800000">div</span> <span style="color:#FF0000">ng</span>-<span style="color:#FF0000">bind</span>-<span style="color:#FF0000">html</span>=<span style="color:#0000FF">&quot;article.Body&quot;</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;/</span><span style="color:#800000">div</span><span style="color:#0000FF">&gt;</span></strong>
<strong class="markLine">        <span style="color:#0000FF">&lt;/</span><span style="color:#800000">div</span><span style="color:#0000FF">&gt;</span></strong>
<strong class="markLine">    <span style="color:#0000FF">&lt;/</span><span style="color:#800000">article</span><span style="color:#0000FF">&gt;</span></strong>
<span style="color:#0000FF">&lt;/</span><span style="color:#800000">div</span><span style="color:#0000FF">&gt;</span>
</code></pre>

<p>This HTML will use the AngularJS function &quot;ng-repeat&quot; to walk through each of the objects in the <code>$scope.Articles</code> variable. It will call each [object] an &quot;article&quot; and then we will use that in the header &lt;h2&gt; tags, image and body. Notice, we have three unique things we are doing with AngularJS items here.</p>

<ol>
<li>When we are placing text between tags, we use the<code>{{ value }}</code> directly.</li>
<li>When we are setting the value of the &quot;src&quot; attribute in the image tag, we have to use the &quot;ng-src&quot; function to do this. This is because the browser will try to retreive the image for the <code>{{ value }}</code> before AngularJS has had a chance to replace it. After AngularJS has resolved the expression, the image will be loaded.</li>
<li>We have HTML in the content of our [object]. Because of this, things get a little messed up. This is where the ngSanitize helps us out. If we use the &quot;ng-bind-html&quot; function, AngularJS knows not to replace all of the HTML goodies in our data and simply render it all as HTML into the &lt;div&gt;</li>
</ol>

<p>Save and reload the <strong>index.html</strong> page, and you should have a page full of content that came from the <strong>MainController.js</strong>. </p>

<p>Notice how simple your HTML page got. Imagine now that you wanted to update the layout of your page. Before if you wanted to change all of the titles of your articles from an &lt;h2&gt; tag to an &lt;h1&gt; tag you would have had to change it on all three articles. What if you wanted to move the image to the right side? What if you had 15 or 20 articles. This could become very time consuming. MVC frameworks let you focus on the view and keep it separate from your data.</p>

<h3 id="Moving_Your_Content_Out_of_Your_Code">Moving Your Content Out of Your Code</h3>

<p>Having all of that content in your code isn't a good idea. We've put it in a database, and have exposed it via an API for you to pull that content. Earlier we learned how to call an API with jQuery and Javascript. This time, we are going to use AngularJS to do the API calls for us.</p>

<p>In order to do this, we need to modify our controller definition to pass in an <strong>$http</strong> core service like we did with <strong>$scope</strong>. Modify your <strong>MainController.js</strong> to change your app.controller initialization.</p>

<span class="codelanguage">Javascript</span><pre><code class="Javascript">app.controller(&#39;MainController&#39;, [&#39;$scope&#39;, &#39;$http&#39;, <span style="color:#0000FF">function</span> ($scope, $http) {
</code></pre>

<p>Now that you have the <strong>$http</strong> service, we can take advantage of it in our controller to load data. Since the API call may take a minute, we don't want the &quot;ng-repeat&quot; in our page to crash because the &quot;Articles&quot; is undefined, so let's set our $scope.Articles to an empty object. Next, we'll call the POST method on the ChooseToCode API and get a few articles. When the method is complete, the result will be passed to the &quot;then&quot; function and we will store the data in the &quot;$scope.Articles&quot; value. When this change happens, the &quot;ng-repeat&quot; will rerun and bind all of the articles to the page. Be sure to modify <strong>&quot;YourClassName&quot;</strong> before you run the results.</p>

<span class="codelanguage">Javascript</span><pre><code class="Javascript">    $scope.Articles = [];
    $http({method: &#39;POST&#39;, url: &#39;http:<span style="color:#008000">//choosetocodeapi.azurewebsites.net/api/articles&#39;, data: {</span>
        ClassName: &#39;YourClassName&#39;,  <span style="color:#008000">//modify this for your class</span>
        Count: 3    
    }}).then(<span style="color:#0000FF">function</span>(result){
        $scope.Articles = result.data;
    });

</code></pre>

<h3 id="Extra_Challenge_-_Show_What_You_Know">Extra Challenge - Show What You Know</h3>

<p>In this module we showed you how to get more out of AngularJS and how to bind data from an API. The content is coming from another service. Now it's time to show what you know. Modify the code for the $http POST so that it uses the number entered in the smallnumber box. Make sure that you are only using a valid number when you do this.</p>

<p>Good luck, and have fun!</p>

</div>
</body>
</html>
